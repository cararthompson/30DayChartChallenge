window.googletag=window.googletag||{cmd:[]};window.metoffice=window.metoffice||{};
window.metoffice.advertising={requiredSlots:{},targeting:{},preloadBehaviours:[],postloadBehaviours:[],sizeMappings:{top:[{viewport:[970,240],slot:[[970,90],[728,90]]},{viewport:[728,240],slot:[728,90]},{viewport:[320,240],slot:[320,50]}],bottom:[{viewport:[1360,240],slot:[[728,90],[970,90],[970,250]]},{viewport:[1280,240],slot:[[728,90],[970,90]]},{viewport:[960,240],slot:[728,90]},{viewport:[728,240],slot:[[320,50],[728,90]]},{viewport:[320,240],slot:[320,50]},{viewport:[1,1],slot:[]}],bottomWarnings:[{viewport:[1360,
240],slot:[[728,90],[970,90],[970,250]]},{viewport:[1280,240],slot:[[728,90],[970,90]]},{viewport:[1,1],slot:[]}],sticky:[{viewport:[1976,240],slot:[[300,600],[160,600],[120,600]]},{viewport:[1696,240],slot:[[160,600],[120,600]]},{viewport:[1616,240],slot:[120,600]},{viewport:[1,1],slot:[]}],forecastTop:[{viewport:[1616,240],slot:[]},{viewport:[1280,240],slot:[[970,90],[728,90]]},{viewport:[960,240],slot:[728,90]},{viewport:[1,1],slot:[]}],mpu:[{viewport:[728,240],slot:[[300,250],[300,600]]},{viewport:[320,
240],slot:[300,250]},{viewport:[1,1],slot:[]}],mpuOnly:[{viewport:[1280,240],slot:[300,250]},{viewport:[1,1],slot:[]}],mobile:[{viewport:[720,240],slot:[]},{viewport:[320,240],slot:[320,50]}]},slotConfigurations:{"ad-super-leader-lt-1390":{sizes:[[970,90],[728,90],[320,50]],pos:"top",sizeMapping:"forecastTop"},"ad-middle":{sizes:[[970,90],[728,90]],pos:"middle",sizeMapping:"top"},"ad-bottom":{sizes:[[970,250],[970,90],[728,90],[320,50]],pos:"btm",sizeMapping:"bottom"},"ad-bottom-warnings":{sizes:[[970,
250],[970,90],[728,90]],pos:"btm",sizeMapping:"bottomWarnings"},"ad-wraparound":{sizes:[1,1]},mobileAd:{sizes:[320,50],sizeMapping:"mobile"},mpu:{sizes:[[300,600],[300,250]],pos:"btm",sizeMapping:"mpu"},mpuOnly:{sizes:[300,250],pos:"btm",sizeMapping:"mpuOnly"},"sticky-double-mpu":{sizes:[300,600],pos:"top"},skyscraper:{sizes:[160,600]},skyLeft:{sizes:[[300,600],[160,600],[120,600]],pos:"stickyleft",sizeMapping:"sticky"},skyRight:{sizes:[[300,600],[160,600],[120,600]],pos:"stickyright",sizeMapping:"sticky"},
forecastLeader:{sizes:[[970,90],[728,90]],pos:"forecastTop",sizeMapping:"forecastTop"}},getUnitName:function(){var a;"/"===window.location.pathname?a="/home":-1!==window.location.pathname.indexOf("weather/forecast")?a="/metoffice.weather/forecast":-1!==window.location.pathname.indexOf("weather/observation")?a="/metoffice.weather/observations":(a=window.location.pathname,"/"===a.substr(-1)&&(a=a.substr(0,a.length-1)));return"/6002"+a},addSlotConfiguration:function(a,b,c){window.metoffice.advertising.requiredSlots[a]=
{slotType:b,lazyLoad:c}},addTargeting:function(a,b){window.metoffice.advertising.targeting[a]=b},addPreloadBehaviour:function(a,b){a={type:a};"undefined"!==typeof b&&(a.options=b);window.metoffice.advertising.preloadBehaviours.push(a)},implementPreloadBehaviours:function(){var a=window.metoffice.advertising,b,c;for(c=0;c<a.preloadBehaviours.length;c+=1)b=a.preloadBehaviours[c],"stickyAds"===b.type&&window.metoffice.advertising.handleStickyAds(b.options.id),"leaderAds"===b.type&&window.metoffice.advertising.leaderAdverts.handleLeaderAdSlot(b.options.id),
"fixedLeader"===b.type&&window.metoffice.advertising.leaderAdverts.handleFixedLeader(b.options.id);a.setTabIndex();a.setAdBorderAndLabel()},setAdBorderAndLabel:function(){googletag.pubads().addEventListener("slotOnload",function(a){a=a.slot.getSlotElementId();a=document.getElementById(a).getElementsByTagName("IFRAME");if(0<a.length&&(a[0].classList.add("ad-iframe"),a=a[0].parentElement.parentElement)){var b=document.createElement("span");b.textContent="ADVERTISEMENT";b.classList.add("advert-span");
a.insertBefore(b,a.childNodes[0])}})},initialiseSizeMappings:function(){var a=window.metoffice.advertising,b={},c,e,f,d;for(c in a.sizeMappings)if(a.sizeMappings.hasOwnProperty(c)){e=a.sizeMappings[c];f=googletag.sizeMapping();for(d=0;d<e.length;d+=1)f.addSize(e[d].viewport,e[d].slot);b[c]=f.build()}return b},configureTargeting:function(){var a=window.metoffice.advertising,b;for(b in a.targeting)a.targeting.hasOwnProperty(b)&&googletag.pubads().setTargeting(b,a.targeting[b])},configureAdSlots:function(a){var b=
window.metoffice.advertising,c=b.initialiseSizeMappings(),e,f,d,g;for(e in b.requiredSlots)if(b.requiredSlots.hasOwnProperty(e))for(f in b.slotConfigurations)b.slotConfigurations.hasOwnProperty(f)&&(d=b.slotConfigurations[f],"undefined"!==typeof b.requiredSlots[e].slotType&&b.requiredSlots[e].slotType===f&&"undefined"!==d.sizes&&(g=googletag.defineSlot(a,d.sizes,e),g.addService(googletag.pubads()),"undefined"!==typeof d.sizeMapping&&g.defineSizeMapping(c[d.sizeMapping]),"undefined"!==typeof d.pos&&
g.setTargeting("pos",d.pos),"undefined"!==typeof d.kw&&g.setTargeting("kw",d.kw),"skyRight"!==f&&"skyLeft"!==f||b.addPreloadBehaviour("stickyAds",{id:e}),"forecastLeader"===f&&(b.addPreloadBehaviour("leaderAds",{id:e}),b.addPreloadBehaviour("fixedLeader",{id:e})),b.requiredSlots[e].googleTagSlot=g))},handleStickyAds:function(a){1616<=window.innerWidth&&null!==document.getElementById(a)&&document.getElementById(a).parentElement.classList.add("skyScraper")},renderAdSlots:function(){var a=window.metoffice.advertising,
b=[],c;for(c in a.requiredSlots)a.requiredSlots.hasOwnProperty(c)&&!1===a.requiredSlots[c].lazyLoad&&b.push(a.requiredSlots[c].googleTagSlot);0<b.length&&googletag.pubads().refresh(b)},leaderAdverts:{handleLeaderAdSlot:function(a){var b=window.metoffice.advertising.leaderAdverts;b.forecastLeaderAd=document.getElementById(a);b.header=document.getElementById("header");null!==b.forecastLeaderAd&&document.body.insertBefore(b.forecastLeaderAd,b.header);"none"===b.forecastLeaderAd.style.display?b.header.classList.contains("headerFixed")&&
b.header.classList.remove("headerFixed"):b.setToStaticAd(b.forecastLeaderAd,b.header);var c=!0;0<window.scrollY&&(c=!1);setTimeout(function(){c=!1},5E3);window.addEventListener("scroll",function(){var a=window.metoffice.advertising.leaderAdverts;a.containsAd&&(0===window.scrollY&&(clearTimeout(a.timeoutSlideOut),a.setToStaticAd(a.forecastLeaderAd,a.header)),c&&0<window.scrollY&&(a.setToFixedAd(a.forecastLeaderAd,a.header),a.slideOut()),c=!1)})},slideOut:function(){window.metoffice.advertising.leaderAdverts.timeoutSlideOut=
setTimeout(function(){window.metoffice.advertising.leaderAdverts.forecastLeaderAd.classList.add("slideOutTop")},5E3);setTimeout(function(){window.metoffice.advertising.leaderAdverts.setToStaticAd(window.metoffice.advertising.leaderAdverts.forecastLeaderAd,window.metoffice.advertising.leaderAdverts.header);window.metoffice.advertising.leaderAdverts.forecastLeaderAd.classList.remove("slideOutTop")},5500)},setToFixedAd:function(a,b){a.classList.contains("adFixed")||a.classList.add("adFixed");b.classList.contains("headerFixed")||
b.classList.add("headerFixed")},setToStaticAd:function(a,b){a.classList.contains("adFixed")&&a.classList.remove("adFixed");b.classList.contains("headerFixed")&&b.classList.remove("headerFixed")},handleFixedLeader:function(a){var b=window.metoffice.advertising.leaderAdverts;googletag.pubads().addEventListener("slotRenderEnded",function(c){c.slot.getSlotElementId()===a&&((b.containsAd=!c.isEmpty,b.containsAd)?0<window.scrollY&&(b.setToFixedAd(b.forecastLeaderAd,b.header),b.slideOut()):b.header.classList.contains("headerFixed")&&
b.header.classList.remove("headerFixed"))})}},setTabIndex:function(){googletag.pubads().addEventListener("slotRenderEnded",function(a){a=a.slot.getSlotElementId();a=document.getElementById(a).getElementsByTagName("IFRAME");0<a.length&&(a[0].tabIndex=-1)})}};
var unitFn=function(){var a=window.metoffice.advertising,b=a.getUnitName();googletag.pubads().disableInitialLoad();a.configureAdSlots(b);a.configureTargeting();googletag.pubads().enableSingleRequest();googletag.pubads().collapseEmptyDivs();a.implementPreloadBehaviours();googletag.enableServices()};googletag.cmd.push(unitFn);googletag.cmd.push(window.metoffice.advertising.renderAdSlots);